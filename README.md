# Testing application with custom scripts using multiple devices through AWS Device Farm




## Scenario
A good test report is essential to proper analysis of mobile app testing. It is not only the summary of test results, but also artifacts like screenshots, videos, crash reports, logs, and app-generated files. A well formed test report provides useful insights, leads to faster resolution of issues, and helps teams focus on the right priorities. With so many great testing frameworks available, with their own strengths and weaknesses, the configuration capabilities for reports are important.

[AWS Device Farm](https://aws.amazon.com/device-farm/) provides comprehensive test reporting that includes all of the standard capabilities: screenshots, videos, and crash reports. We also know that developers need access to custom reports and artifacts that are generated by the test framework. Today, we are providing access to any custom artifact (log file, test framework generated file, or application generated file) when accessing the test results within AWS Device Farm..


## Prerequisites

* Signed up for an AWS account 
* Download the sample APK and test APK.



## Lab tutorial
### Automated Testing with Device farm
1.1. Under service menu, Choose **Device Farm** under Mobile service.

1.2. Enter **DemoProject** as name.

![1.png](/images/1.png)

1.3. Click **Create a new run**.

![2.png](/images/2.png)

1.4. In Create a new run, Select **Android and IOS**.

1.5. Click **Upload**.

1.6. Upload the **apk-debug.apk**.

1.7. When you upload successful, you will see the detail of you apk.

![3.png](/images/3.png)

Click **Next step**.

1.8. In the Configure a test, Select **Instrumentation**. 

> In this tutorial, we use Espresso and Spoon to do this automate test.

1.9. Upload **app-debug-androidTest.apk**.

![4.png](/images/4.png)

1.10. When Upload successful, you can also see the detail of apk.

![5.png](/images/5.png)

Click **Next step**.

1.11. At the Select devices, click **Creat a new device pool**.

1.12. Enter **DemoPool** as Name.

1.13. Select some device, for this tutorial we use:

* ASUS Nexus 7 - 2nd Gen (WiFi)
* Motorola Nexus 6
* Google Pixel 2 XL
* HTC Desire 526G+
* Samsung Galaxy S6 Edge
* LG Nexus 5

1.14. Click **Save device pool**.

1.15. Click **Next step** utill Review and start run page, Click **Confirm and start run**.

1.16. Click your apk run.

![6.png](/images/6.png)

1.17. Wait untill it finish.

>It must take some time to finish!

1.18. When it finish, you will see all the devices which you selected have the test report

![7.png](/images/7.png)

1.19. Click any phone to see detail, for this tutorial we choose **LG Nexus5**.

1.20. In the LG Nexus5 page, you can see many reports. First is Video, you can see your application progress.

![8.png](/images/8.png)

1.21. Next is Log. You can see every seconds detail, and use the fillter to find the second you want see.

![9.png](/images/9.png)

1.22. You also can write some script in test apk to auto screenshot.

![10.png](/images/10.png)


### Remote Access Testing

2.1. Click the DemoProject.

2.2. Click **Remote access**, and click **Start a new session**.

2.3. Type **LG G2(AT&T)** in the filter, and select it, then click **Confirm and start session**.

![11.png](/images/11.png)

2.4. When it connect finish, try to upload your apk to test it yourself.

>When upload finish, it will auto install, You can test it manually by using this real device.

![12.png](/images/12.png)


## Conclusion

Congratulations! You now have learned how to:
* Setting the Automated testing detail.
* Use Remote Access testing app manually



